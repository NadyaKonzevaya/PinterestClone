!function(){let e,t;function n(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},s=a.parcelRequire6121;null==s&&((s=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},a.parcelRequire6121=s);var r=s.register;r("iE7OH",function(e,t){n(e.exports,"register",function(){return a},function(e){return a=e});var a,i=new Map;a=function(e,t){for(var n=0;n<t.length-1;n+=2)i.set(t[n],{baseUrl:e,path:t[n+1]})}}),r("aNJCr",function(e,t){n(e.exports,"getBundleURL",function(){return a},function(e){return a=e});var a,i={};a=function(e){var t=i[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),i[e]=t),t}}),s("iE7OH").register(s("aNJCr").getBundleURL("EVgbq"),JSON.parse('["EVgbq","index.a51505e3.js","410VS","icons.0005281c.svg"]'));var d={};d=s("aNJCr").getBundleURL("EVgbq")+"icons.0005281c.svg";var c=function({id:e,alt_description:t,urls:{regular:n},user:{profile_image:{small:a,name:i}}}){var o;return`
  <li class="thumb" id=${e}>
    <div class="img_wrap">
      <img src=${n} alt=${t} class="img"/>
      <div class="overlay"></div>
      <button type="button" class="img__btn" data-action-menu>
      <svg class="icon" aria-label="Additional functions">
        <use class="icon-dots" href="${(o=d)&&o.__esModule?o.default:o}#dots"></use>
      </svg>
      </button>
     <p class="saved is-hidden">SAVED</p>
    </div>
    <div class="avatar__wrap">
      <img src=${a} alt=${i} class="avatar" />
      <p class="description">${t[0].toUpperCase()+t.slice(1)}</p>
    </div>
    
  </li>
  
`},l=function(e){return e.map(c).join("")};let u=async()=>({photos:await fetch("https://api.unsplash.com/photos/random/?client_id=5HxesvmDSHyOpCHGFTaK2E_qm_g_xkMj9DZ-KU5QOdQ&count=25").then(e=>e.json())}),m=async()=>{if(!JSON.parse(localStorage.getItem("photos"))){let{photos:e}=await u();localStorage.setItem("photos",JSON.stringify(e))}},p={list:document.querySelector(".list"),filter:document.querySelector(".filter"),chooseBtn:document.querySelector("[data-action-choose]"),boardContainer:document.querySelector(".choose__board"),homeBtn:document.querySelector("[data-action-home]"),noPinsWrap:document.querySelector(".no-pins__wrap")},f={modalComplain:document.querySelector(".modal__complain"),modal:document.querySelector(".modal"),modalBoard:document.querySelector(".modal__board"),backdrop:document.querySelector(".backdrop"),cancelComplainBtn:document.querySelector("[data-action-cancel]"),furtherComplainBtn:document.querySelector("[data-action-further]"),inputs:document.querySelectorAll("[type='radio']"),boards:document.querySelectorAll("[data-action-board]"),addToBoardBtn:document.querySelector("[data-action-add]"),hideBtn:document.querySelector("[data-action-hide]"),complainBtn:document.querySelector("[data-action-complain]")},{list:h,boardContainer:g,filter:v,noPinsWrap:L}=p;function _(){f.inputs.forEach(e=>{e.checked&&(e.checked=!1)})}let{modalBoard:b,modal:S,backdrop:y}=f,{list:E}=p;function q(){y.classList.add("is-hidden"),_()}(async function(){await m(),t=JSON.parse(localStorage.getItem("photos"))||[],p.list.innerHTML=l(t)})(),p.filter.addEventListener("input",function(e){let{currentTarget:n}=e,a=n.value.toLowerCase(),i=t.filter(({alt_description:e})=>e.toLowerCase().includes(a));h.innerHTML=l(i)}),p.chooseBtn.addEventListener("click",function(){g.classList.toggle("is-hidden"),v.value=""}),p.boardContainer.addEventListener("click",function(e){let t=e.target.id,n=JSON.parse(localStorage.getItem(`board-${t}`));n?(L.innerHTML="",h.innerHTML=l(n)):(h.innerHTML="",L.innerHTML='<p class="no-pins">You have no saved pins here :(</p>'),g.classList.add("is-hidden")}),window.addEventListener("click",function(e){e.target.matches("[data-action-choose], .choose__board, .board__list, .board__item, .choose-btn")||g.classList.contains("is-hidden")||g.classList.add("is-hidden")}),p.homeBtn.addEventListener("click",function(){h.innerHTML=l(t),v.value="",L.innerHTML=""}),p.list.addEventListener("click",function(t){if(!t.target.matches("[data-action-menu], .icon, .icon-dots"))return;b.classList.contains("is-hidden")||b.classList.add("is-hidden"),e=t.target.closest(".thumb").id;let n=t.target.closest(".img_wrap"),a=n.getBoundingClientRect(),i=window.scrollY||document.documentElement.scrollTop;if(S.style.top=a.bottom+i+"px",S.style.left=a.left+"px",n.classList.contains("lastOpen"))S.classList.add("is-hidden"),n.classList.remove("lastOpen");else{let e=document.querySelector(".lastOpen");e&&(e.classList.remove("lastOpen"),S.classList.add("is-hidden")),S.classList.remove("is-hidden"),n.classList.add("lastOpen")}}),f.addToBoardBtn.addEventListener("click",function(e){b.classList.toggle("is-hidden")}),f.modalBoard.addEventListener("click",function(n){if(!n.target.hasAttribute("data-action-board"))return;let a=n.target.id,i=[...document.querySelectorAll(".saved")].filter(t=>t.closest(".thumb").id===e);[toastNeeded]=i,toastNeeded.classList.remove("is-hidden"),toastNeeded.textContent=`saved to ${a}`;let o=t.reduce((t,n)=>{let a=t.some(({id:e})=>e===n.id);return n.id!==e||a?t:[...t,n]},JSON.parse(localStorage.getItem(`${a}`))||[]);localStorage.setItem(`${a}`,JSON.stringify(o)),S.classList.add("is-hidden")}),f.hideBtn.addEventListener("click",function(n){let a=t.filter(t=>t.id!==e);t.splice(0,t.length,...a),localStorage.setItem("photos",JSON.stringify(a)),E.innerHTML=l(a),S.classList.add("is-hidden")}),f.complainBtn.addEventListener("click",function(e){y.classList.remove("is-hidden"),S.classList.add("is-hidden")}),window.addEventListener("click",function(e){e.target.matches("[data-action-menu], .icon, .icon-dots, .img__menu, .menu__btn, .menu__item, .menu__list")||S.classList.add("is-hidden")}),f.backdrop.addEventListener("click",function(e){e.currentTarget===e.target&&(y.classList.add("is-hidden"),_())}),f.cancelComplainBtn.addEventListener("click",q),f.furtherComplainBtn.addEventListener("click",q)}();
//# sourceMappingURL=index.a51505e3.js.map
