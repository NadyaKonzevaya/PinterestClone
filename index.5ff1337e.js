let e,t;var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=a.parcelRequire6121;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},a.parcelRequire6121=i),(0,i.register)("kyEFX",function(e,t){Object.defineProperty(e.exports,"register",{get:function(){return a},set:function(e){return a=e},enumerable:!0,configurable:!0});var a,o=new Map;a=function(e,t){for(var a=0;a<t.length-1;a+=2)o.set(t[a],{baseUrl:e,path:t[a+1]})}}),i("kyEFX").register(new URL("",import.meta.url).toString(),JSON.parse('["5ZPII","index.5ff1337e.js","8OQ7p","icons.0005281c.svg"]'));var s={};s=new URL("icons.0005281c.svg",import.meta.url).toString();var d=function({id:e,alt_description:t,urls:{regular:a},user:{profile_image:{small:o,name:n}}}){var i;return`
  <li class="thumb" id=${e}>
    <div class="img_wrap">
      <img src=${a} alt=${t} class="img"/>
      <div class="overlay"></div>
      <button type="button" class="img__btn" data-action-menu>
      <svg class="icon" aria-label="Additional functions">
        <use class="icon-dots" href="${(i=s)&&i.__esModule?i.default:i}#dots"></use>
      </svg>
      </button>
     <p class="saved is-hidden">SAVED</p>
    </div>
    <div class="avatar__wrap">
      <img src=${o} alt=${n} class="avatar" />
      <p class="description">${t[0].toUpperCase()+t.slice(1)}</p>
    </div>
    
  </li>
  
`},r=function(e){return e.map(d).join("")};const c=async()=>({photos:await fetch("https://api.unsplash.com/photos/random/?client_id=5HxesvmDSHyOpCHGFTaK2E_qm_g_xkMj9DZ-KU5QOdQ&count=25").then(e=>e.json())}),l=async()=>{let e=JSON.parse(localStorage.getItem("photos"));if(!e){let{photos:e}=await c();console.log(e),localStorage.setItem("photos",JSON.stringify(e))}return e},u={list:document.querySelector(".list"),filter:document.querySelector(".filter"),chooseBtn:document.querySelector("[data-action-choose]"),boardContainer:document.querySelector(".choose__board"),homeBtn:document.querySelector("[data-action-home]")};(async function(){await l(),e=JSON.parse(localStorage.getItem("photos"))||[],u.list.innerHTML=r(e)})(),console.log(e),u.filter.addEventListener("input",function(t){let{currentTarget:a}=t,o=a.value.toLowerCase(),n=e.filter(({alt_description:e})=>e.toLowerCase().includes(o));u.list.innerHTML=r(n)}),u.chooseBtn.addEventListener("click",function(){u.boardContainer.classList.toggle("is-hidden")}),u.boardContainer.addEventListener("click",function(e){let t=e.target.id,a=JSON.parse(localStorage.getItem(`board-${t}`));u.list.innerHTML=a?r(a):'<p class="no-pins">You have no saved pins here :(</p>',u.boardContainer.classList.add("is-hidden")}),window.addEventListener("click",function(e){e.target.matches("[data-action-choose], .choose__board, .board__list, .board__item, .choose-btn")||u.boardContainer.classList.contains("is-hidden")||u.boardContainer.classList.add("is-hidden")}),u.homeBtn.addEventListener("click",function(){u.list.innerHTML=r(e)});const m={modalComplain:document.querySelector(".modal__complain"),modal:document.querySelector(".modal"),modalBoard:document.querySelector(".modal__board"),backdrop:document.querySelector(".backdrop"),cancelComplainBtn:document.querySelector("[data-action-cancel]"),furtherComplainBtn:document.querySelector("[data-action-further]"),inputs:document.querySelectorAll("[type='radio']"),boards:document.querySelectorAll("[data-action-board]"),addToBoardBtn:document.querySelector("[data-action-add]"),hideBtn:document.querySelector("[data-action-hide]"),complainBtn:document.querySelector("[data-action-complain]")};function p(){m.backdrop.classList.add("is-hidden"),g()}function g(){m.inputs.forEach(e=>{e.checked&&(e.checked=!1)})}u.list.addEventListener("click",function(a){if(console.log(e),!a.target.matches("[data-action-menu], .icon, .icon-dots"))return;m.modalBoard.classList.contains("is-hidden")||m.modalBoard.classList.add("is-hidden"),t=a.target.closest(".thumb").id;let o=a.target.closest(".img_wrap"),n=o.getBoundingClientRect();if(m.modal.style.top=n.bottom+"px",m.modal.style.left=n.left+"px",o.classList.contains("lastOpen"))m.modal.classList.add("is-hidden"),o.classList.remove("lastOpen");else{let e=document.querySelector(".lastOpen");e&&(e.classList.remove("lastOpen"),m.modal.classList.add("is-hidden")),m.modal.classList.remove("is-hidden"),o.classList.add("lastOpen")}}),m.addToBoardBtn.addEventListener("click",function(e){e.target.closest(".img__menu").querySelector(".modal__board").classList.toggle("is-hidden")}),m.modalBoard.addEventListener("click",function(a){if(!a.target.hasAttribute("data-action-board"))return;let o=a.target.id,n=[...document.querySelectorAll(".saved")].filter(e=>e.closest(".thumb").id===t);[toastNeeded]=n,toastNeeded.classList.remove("is-hidden"),toastNeeded.textContent=`saved to ${o}`;let i=e.reduce((e,a)=>{let o=e.some(({id:e})=>e===a.id);return a.id!==t||o?e:[...e,a]},JSON.parse(localStorage.getItem(`${o}`))||[]);localStorage.setItem(`${o}`,JSON.stringify(i))}),m.hideBtn.addEventListener("click",function(a){let o=e.filter(e=>e.id!==t);e.splice(0,e.length,...o),localStorage.setItem("photos",JSON.stringify(o)),u.list.innerHTML=r(o),m.modal.classList.add("is-hidden")}),m.complainBtn.addEventListener("click",function(e){m.backdrop.classList.remove("is-hidden"),m.modal.classList.add("is-hidden")}),window.addEventListener("click",function(e){e.target.matches("[data-action-menu], .icon, .icon-dots, .img__menu, .menu__btn, .menu__item, .menu__list")||m.modal.classList.add("is-hidden")}),m.backdrop.addEventListener("click",function(e){e.currentTarget===e.target&&(m.backdrop.classList.add("is-hidden"),g())}),m.cancelComplainBtn.addEventListener("click",p),m.furtherComplainBtn.addEventListener("click",p);
//# sourceMappingURL=index.5ff1337e.js.map
